{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport React, { Component } from \"react\";\nimport { auth } from \"../../firebase/config\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nvar Login = function (_Component) {\n  _inherits(Login, _Component);\n  var _super = _createSuper(Login);\n  function Login() {\n    var _this;\n    _classCallCheck(this, Login);\n    _this = _super.call(this);\n    _this.state = {\n      logueado: false,\n      email: \"\",\n      password: \"\",\n      textError: \"\"\n    };\n    return _this;\n  }\n  _createClass(Login, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n      auth.onAuthStateChanged(function (user) {\n        if (user) {\n          _this2.props.navigation.navigate(\"Menu\");\n        }\n        _this2.setState({\n          logueado: true\n        });\n      });\n    }\n  }, {\n    key: \"login\",\n    value: function login(email, pass) {\n      var _this3 = this;\n      auth.signInWithEmailAndPassword(email, pass).then(function (response) {\n        console.log(\"Login ok\", response);\n        _this3.props.navigation.navigate(\"Menu\");\n      }).catch(function (error) {\n        if (error.code == 'auth/internal-error') {\n          _this3.setState({\n            textError: \"Check your email or password\"\n          });\n        } else {\n          _this3.setState({\n            textError: error.message\n          });\n        }\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n      return _jsx(View, {\n        style: styles.formContainer,\n        children: this.state.logueado == true ? _jsxs(_Fragment, {\n          children: [_jsx(Text, {\n            style: styles.title,\n            children: \" Login\"\n          }), _jsx(TextInput, {\n            style: styles.input,\n            onChangeText: function onChangeText(text) {\n              return _this4.setState({\n                email: text\n              });\n            },\n            placeholder: \"example@email.com\",\n            keyboardType: \"email-address\",\n            value: this.state.email\n          }), _jsx(TextInput, {\n            style: styles.input,\n            onChangeText: function onChangeText(text) {\n              return _this4.setState({\n                password: text\n              });\n            },\n            placeholder: \"Password\",\n            keyboardType: \"default\",\n            secureTextEntry: true,\n            value: this.state.password\n          }), this.state.email.length > 0 && this.state.password.length > 0 ? _jsx(TouchableOpacity, {\n            style: styles.button,\n            onPress: function onPress() {\n              return _this4.login(_this4.state.email, _this4.state.password);\n            },\n            children: _jsx(Text, {\n              style: styles.textButton,\n              children: \"Login\"\n            })\n          }) : _jsx(TouchableOpacity, {\n            style: styles.buttonError,\n            onPress: function onPress() {\n              return _this4.setState({\n                textError: 'You must complete the required fields'\n              });\n            },\n            children: _jsx(Text, {\n              style: styles.textButton,\n              children: \" Login\"\n            })\n          }), this.state.textError.length > 0 ? _jsxs(Text, {\n            style: styles.textError,\n            children: [\" \", this.state.textError, \" \"]\n          }) : false, _jsx(TouchableOpacity, {\n            onPress: function onPress() {\n              return _this4.props.navigation.navigate(\"Register\");\n            },\n            style: styles.register,\n            children: _jsx(Text, {\n              children: \"Don't have an account? Register.\"\n            })\n          })]\n        }) : _jsx(View, {\n          style: styles.activityIndicatorContainer,\n          children: _jsx(ActivityIndicator, {\n            size: \"small\",\n            color: \"purple\"\n          })\n        })\n      });\n    }\n  }]);\n  return Login;\n}(Component);\nvar styles = StyleSheet.create({\n  activityIndicatorContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  title: {\n    fontWeight: 'bold',\n    color: '#896a92'\n  },\n  formContainer: {\n    paddingHorizontal: 10,\n    marginTop: 20\n  },\n  input: {\n    backgroundColor: '#eae0ed',\n    height: 20,\n    paddingVertical: 15,\n    paddingHorizontal: 10,\n    borderRadius: 6,\n    marginVertical: 10\n  },\n  button: {\n    flex: 1,\n    alignItems: 'center',\n    backgroundColor: '#6c4e75',\n    paddingHorizontal: 10,\n    paddingVertical: 6,\n    borderRadius: 4\n  },\n  buttonError: {\n    flex: 1,\n    alignItems: 'center',\n    backgroundColor: '#896a92',\n    paddingHorizontal: 10,\n    paddingVertical: 6,\n    textAlign: 'center',\n    borderRadius: 4,\n    color: 'white'\n  },\n  textButton: {\n    color: \"#fff\"\n  },\n  textError: {\n    color: 'red'\n  },\n  register: {\n    marginTop: 10\n  }\n});\nexport default Login;","map":{"version":3,"names":["React","Component","auth","TextInput","TouchableOpacity","View","Text","StyleSheet","ActivityIndicator","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Login","_Component","_inherits","_super","_createSuper","_this","_classCallCheck","call","state","logueado","email","password","textError","_createClass","key","value","componentDidMount","_this2","onAuthStateChanged","user","props","navigation","navigate","setState","login","pass","_this3","signInWithEmailAndPassword","then","response","console","log","catch","error","code","message","render","_this4","style","styles","formContainer","children","title","input","onChangeText","text","placeholder","keyboardType","secureTextEntry","length","button","onPress","textButton","buttonError","register","activityIndicatorContainer","size","color","create","flex","justifyContent","alignItems","fontWeight","paddingHorizontal","marginTop","backgroundColor","height","paddingVertical","borderRadius","marginVertical","textAlign"],"sources":["/Users/Cande_1/Desktop/PROGRA/integrador-parte2/src/screens/Login/Login.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { auth } from \"../../firebase/config\";\n\nimport {\n  TextInput,\n  TouchableOpacity,\n  View,\n  Text,\n  StyleSheet,\n  ActivityIndicator\n} from \"react-native\";\n\nclass Login extends Component {\n  constructor() {\n    super();\n    this.state = {\n      logueado:false,\n      email: \"\",\n      password: \"\",\n      textError: \"\",\n    };\n  }\n\n  componentDidMount() {\n    auth.onAuthStateChanged((user) => {\n      if (user) {\n        this.props.navigation.navigate(\"Menu\");\n      }\n      this.setState({\n        logueado: true\n      })\n    });\n  }\n\n  login(email, pass) {\n    auth\n      .signInWithEmailAndPassword(email, pass)\n      .then((response) => {\n        //Cuando firebase responde sin error\n        console.log(\"Login ok\", response);\n\n        //Cambiar los estados a vacío como están al inicio.\n\n        //Redirigir al usuario a la home del sitio.\n        this.props.navigation.navigate(\"Menu\");\n      })\n      .catch((error) => {\n        if (error.code == 'auth/internal-error'){\n          this.setState({\n            textError: \"Check your email or password\"\n          })\n        }\n        else {\n        this.setState({\n          textError: error.message\n      })}\n        console.log(error);\n      });\n  }\n\n  render() {\n    return (\n      <View style={styles.formContainer}>\n       {this.state.logueado == true ?\n      <>\n       <Text style={styles.title}> Login</Text>\n        \n       {/* EMAIL */}\n       <TextInput\n         style={styles.input}\n         onChangeText={(text) => this.setState({ email: text })}\n         placeholder=\"example@email.com\"\n         keyboardType=\"email-address\"\n         value={this.state.email}\n       />\n\n       {/* PASSWORD */}\n       <TextInput\n         style={styles.input}\n         onChangeText={(text) => this.setState({ password: text })}\n         placeholder=\"Password\"\n         keyboardType=\"default\"\n         secureTextEntry={true}\n         value={this.state.password}\n       />\n       \n       {this.state.email.length > 0 && this.state.password.length > 0 ? \n\n       <TouchableOpacity\n         style={styles.button}\n         onPress={() => this.login(this.state.email, this.state.password)}>\n         <Text style={styles.textButton}>Login</Text>\n       </TouchableOpacity> :\n       <TouchableOpacity style={styles.buttonError} onPress={()=> this.setState({textError: 'You must complete the required fields'})}>\n       <Text style={styles.textButton} > Login</Text>    \n       </TouchableOpacity> }  \n       {this.state.textError.length > 0 ? <Text style={styles.textError}> {this.state.textError} </Text> : false }\n\n       <TouchableOpacity\n         onPress={() => this.props.navigation.navigate(\"Register\")}\n         style={styles.register}>\n         <Text>Don't have an account? Register.</Text>\n       </TouchableOpacity>\n       </>\n       : \n       <View style={styles.activityIndicatorContainer}>\n       <ActivityIndicator  size='small' color='purple' />\n        </View>\n       }\n        \n      </View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  activityIndicatorContainer:{\n    flex:1,\n    justifyContent:'center',\n    alignItems:'center',\n  },\n  title:{\n    fontWeight: 'bold',\n    color: '#896a92',\n  },\n  formContainer: {\n    paddingHorizontal: 10,\n    marginTop: 20,\n  },\n  input: {\n    backgroundColor:'#eae0ed',\n    height: 20,\n    paddingVertical: 15,\n    paddingHorizontal: 10,\n    borderRadius: 6,\n    marginVertical: 10,\n  },\n  button: {\n    flex:1,\n    alignItems: 'center',\n    backgroundColor: '#6c4e75',\n    paddingHorizontal: 10,\n    paddingVertical: 6,\n    borderRadius: 4,\n\n  },\n  buttonError:{\n    flex:1,\n    alignItems: 'center',\n    backgroundColor:'#896a92',\n    paddingHorizontal: 10,\n    paddingVertical: 6,\n    textAlign: 'center',\n    borderRadius:4, \n    color: 'white'\n},\n  textButton: {\n    color: \"#fff\",\n  },\n  textError:{\n    color:'red'\n},\nregister:{\n  marginTop: 10\n}\n});\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}